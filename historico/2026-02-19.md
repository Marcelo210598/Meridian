# Snapshot - 2026-02-19

## ğŸ¯ O que foi feito hoje
- Criado projeto Meridian do zero (Next.js 15, Prisma, Neon, Railway)
- Deploy no Railway funcionando em `meridian-ai.up.railway.app`
- IntegraÃ§Ã£o bot Ethereal â†’ Meridian via fire-and-forget (sem interferir no bot)
- Corrigido bug do bot: timeout de trend sem re-checar funding rate
- Criado projeto "Ethereal" no dashboard, 1 trade jÃ¡ registrado via integraÃ§Ã£o

## ğŸ“ DecisÃµes tÃ©cnicas importantes
- Meridian completamente desacoplado do bot (HTTP + API Key)
- Bot usa `MeridianClient` com `asyncio.to_thread` + urllib (zero dependÃªncias novas)
- Fire-and-forget: bot continua mesmo se Meridian estiver fora
- Prisma com `binaryTargets = ["native", "debian-openssl-3.0.x"]` para Railway/Ubuntu

## âš ï¸ Problemas encontrados e soluÃ§Ãµes
- Railway "Stopping Container": vÃ¡rias tentativas (standalone, PORT=3000, hostname)
  - SoluÃ§Ã£o final: `--hostname 0.0.0.0` + remoÃ§Ã£o de `PORT=3000` manual + `debian-openssl-3.0.x`
- `linux-openssl-3.0.x` e `linux-nixos` eram targets invÃ¡lidos/sem binÃ¡rio no Prisma
- ESLint: `<a>` tags â†’ substituÃ­das por `<Link>` do next/link

## ğŸ”§ ConfiguraÃ§Ãµes
- `DATABASE_URL`: Neon PostgreSQL (pooler sa-east-1)
- `PORT`: nÃ£o setar manualmente â€” Railway injeta automaticamente
- Bot `.env`: `MERIDIAN_URL=https://meridian-ai.up.railway.app` + `MERIDIAN_API_KEY=10efeab0-de53-4246-a937-8bdcb9ae42c2`
- Railway Node: nodejs_24 (Nixpacks auto-detecta)

## ğŸ“Š Estado atual do projeto
- âœ… Deploy funcionando em produÃ§Ã£o
- âœ… Dashboard exibe projetos e trades
- âœ… API `/api/ingest` recebe dados do bot
- âœ… 1 trade do Ethereal jÃ¡ registrado
- â³ Saldo/Trend mostram "â€”" (snapshots nÃ£o implementados ainda)

## ğŸ“Š AnÃ¡lise de Performance â€” Trades do dia

| Round | DireÃ§Ã£o | Entrada | SaÃ­da | P&L LÃ­quido |
|-------|---------|---------|-------|-------------|
| A | LONG (aberto dia 18) | ~66,742 | ~67,031 | **+$4.86** |
| B | LONG | 67,059 (05:04) | 65,901 (10:43) | **-$17.42** |
| C | LONG | 65,864 (11:08) | 66,412 (11:58) | **+$6.89** |
| D | SHORT | 66,113 (12:27) | 66,195 (14:54) | **-$1.71** |
| E | SHORT | 66,277 (14:55) | 67,338 (21:27) | **-$15.26** |

**Total 19/02: -$22.64** | **Total 18/02: +$1.41**

- Round E Ã© o cenÃ¡rio exato do bug corrigido hoje (forced SHORT contra trend BULLISH)
- Round B Ã© risco de mercado (reversÃ£o apÃ³s entrada correta) â€” candidato a stop por tempo
- DecisÃ£o: aguardar amanhÃ£ antes de fazer novas mudanÃ§as no bot

## ğŸš§ PrÃ³xima sessÃ£o (To-do)
- Comparar trades de amanhÃ£ para ver impacto do fix de forced entry
- Se Round B-tipo repetir (posiÃ§Ã£o carregada horas no prejuÃ­zo): avaliar stop por tempo (3-4h)
- Criar forma de Meridian buscar dados em tempo real SEM mexer no bot
- Adicionar autenticaÃ§Ã£o no dashboard (hoje qualquer um com a URL vÃª os dados)

## ğŸ’¡ ObservaÃ§Ãµes importantes
- API Key do Ethereal no Meridian: `10efeab0-de53-4246-a937-8bdcb9ae42c2`
- GitHub Meridian: https://github.com/Marcelo210598/Meridian.git
- Railway: meridian-ai.up.railway.app
- A API Key aparece sÃ³ na criaÃ§Ã£o â€” estÃ¡ salva no `.env` do bot
